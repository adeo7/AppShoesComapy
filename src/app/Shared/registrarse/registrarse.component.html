<!-- <app-nav-comprador></app-nav-comprador> -->
<div class="container-fluid shadow mt-5 col-lg-6 col-sm-10" style=" border: 1px solid #201f1f; border-radius: 50px;">
  <form class=" row m-5 " #f="ngForm" [formGroup]="registroForm">
    <h2 class="text-center">Regístrate</h2>
    <div class="col-lg-6 col-md-5 ">
      <div class="form-group">
        <label class="fw-bolder" for="nombre">Nombre de Usuario</label>
        <input type="text" class="form-control" id="nombre" placeholder="Tu nombre de usuario"
          formControlName="username" maxlength="18" minlength="5">
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('username')?.invalid && (registroForm.get('username')?.dirty || registroForm.get('username')?.touched)">
          <div *ngIf="registroForm.get('username')?.hasError('required')">
            <span>El usuario es obligatorio</span>
          </div>
          <div *ngIf="registroForm.get('username')?.hasError('pattern')">
            <span>El usuario no es válido</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="nombre">Nombres</label>
        <input type="text" class="form-control " id="nombre" placeholder="Nombres" formControlName="firstName">
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('firstName')?.invalid && (registroForm.get('firstName')?.dirty || registroForm.get('firstName')?.touched)">
          <div *ngIf="registroForm.get('firstName')?.hasError('required')">
            <span>El nombres es obligatorio</span>
          </div>
          <div *ngIf="registroForm.get('firstName')?.hasError('pattern')">
            <span>El nombres no es válido</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="apellidos">Apellidos</label>
        <input type="text" class="form-control" id="apellidos" placeholder="Apellidos" formControlName="lastName">
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('lastName')?.invalid && (registroForm.get('lastName')?.dirty || registroForm.get('lastName')?.touched)">
          <div *ngIf="registroForm.get('lastName')?.hasError('required')">
            <span>El apellidos es obligatorio</span>
          </div>
          <div *ngIf="registroForm.get('lastName')?.hasError('pattern')">
            <span>El usuario no es válido</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="direccion">Dirección</label>
        <input type="text" class="form-control" id="direccion" placeholder="Dirección" formControlName="address">
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('address')?.invalid && (registroForm.get('address')?.dirty || registroForm.get('address')?.touched)">
          <div *ngIf="registroForm.get('address')?.hasError('required')">
            <span>La dirección es obligatoria</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="telefono">Teléfono</label><br>
        <ngx-intl-tel-input #phoneInput [cssClass]="'custom'" [preferredCountries]="preferredCountries"
          [enableAutoCountrySelect]="true" [enablePlaceholder]="true" [searchCountryFlag]="true"
          [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]" [selectFirstCountry]="false"
          [selectedCountryISO]="CountryISO.Colombia" [maxLength]="15" [phoneValidation]="true"
          [separateDialCode]="separateDialCode" [numberFormat]="PhoneNumberFormat.National" name="phone"
          formControlName="phone"></ngx-intl-tel-input>

      </div>
    </div>


    <div class="col-lg-6 col-md-5">
      <div class="form-group">
        <label class="fw-bolder" for="correo">Correo</label>
        <input type="email" class="form-control" id="correo" placeholder="Correo electrónico" formControlName="email">
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('email')?.invalid && (registroForm.get('email')?.dirty || registroForm.get('email')?.touched)">
          <div *ngIf="registroForm.get('email')?.hasError('required')">
            <span>El correo electrónico es obligatorio</span>
          </div>
          <div *ngIf="registroForm.get('email')?.hasError('email')">
            <span>No es un correo electrónico válido</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="tipoDocumento">Tipo de Documento</label>
        <select class="form-control" id="tipoDocumento" formControlName="documentType">
          <option value="" disabled selected>Seleccione...</option>
          <option value="CC">Cédula</option>
          <option value="CE">Cedula extrangera</option>
          <option value="TI">Tarjeta de identidad</option>
        </select>
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('documentType')?.invalid && (registroForm.get('documentType')?.dirty || registroForm.get('documentType')?.touched)">
          <div *ngIf="registroForm.get('documentType')?.hasError('required')">
            <span>El tipo de documento es obligatorio</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="documento">Número de Documento</label>
        <input type="number" class="form-control" id="documento" placeholder="Número de Documento"
          formControlName="documentNumber">
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('documentNumber')?.invalid && (registroForm.get('documentNumber')?.dirty || registroForm.get('documentNumber')?.touched)">
          <div *ngIf="registroForm.get('documentNumber')?.hasError('required')">
            <span>El número de documento es obligatorio</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="contrasena">Contraseña</label>
        <div class="input-group align-items-center">
          <input class="form-control" type="{{ mostrarContrasena ? 'text' : 'password' }}" id="password"
            placeholder="Contraseña" formControlName="password">
          <button class="btn btn-outline-secondary btn-sm" type="button" (click)="toggleMostrarContrasena()">
            <span *ngIf="mostrarContrasena">
              <i class="fas fa-eye"></i>
            </span>
            <span *ngIf="!mostrarContrasena">
              <i class="fas fa-eye-slash"></i>
            </span>
          </button>
        </div>
        <div class="alert alert-danger mt-1"
          *ngIf="registroForm.get('password')?.invalid && (registroForm.get('password')?.dirty || registroForm.get('password')?.touched)">
          <div *ngIf="registroForm.get('password')?.hasError('required')">
            <span>La contraseña es obligatorio</span>
          </div>
          <div *ngIf="registroForm.get('password')?.hasError('pattern')">
            <span>La contraseña no es válida</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="fw-bolder" for="confirmarContrasena">Confirmar Contraseña</label>
        <div class="input-group align-items-center">
          <input class="form-control" type="{{ mostrarContrasenaConfirmar ? 'text' : 'password' }}"
            id="confirmarContrasena" placeholder="Confirmar Contraseña" formControlName="confirmPassword">
          <button class="btn btn-outline-secondary btn-sm" type="button" (click)="toggleMostrarContrasenaConfirmar()">
            <span *ngIf="mostrarContrasenaConfirmar">
              <i class="fas fa-eye"></i>
            </span>
            <span *ngIf="!mostrarContrasenaConfirmar">
              <i class="fas fa-eye-slash"></i>
            </span>
          </button>
        </div>
      </div>
      <div class="alert alert-danger mt-1"
        *ngIf="registroForm.get('confirmPassword')?.invalid && (registroForm.get('confirmPassword')?.dirty || registroForm.get('confirmPassword')?.touched)">
        <div *ngIf="registroForm.get('confirmPassword')?.hasError('required')">
          <span>Confirmar la contraseña es obligatorio</span>
        </div>
      </div>
    </div>

    <div class="col-lg-12 col-mb-10 form-check text-center">
      <input type="checkbox" class="fw-bolder form-check-input" id="privacidad" formControlName="terms">
      <label class="form-check-label" for="privacidad">Al registrarte, aceptas nuestras Condiciones de uso
        y Política de privacidad.</label>
      <div *ngIf="registroForm.get('terms')?.hasError('required')">
        <span>El nombre es obligatorio</span>
      </div>
    </div>

    <div class="col-lg-12 col-mb-10  text-center">
      <button type="submit" style="border-radius: 16px; background: #68548C; color: #FFF;" class="btn  mb-3"
        (click)="registro()">Registrarse</button>
      <p>¿Ya tienes una cuenta? <a routerLink="/login" class="link text-dark">Iniciar Sesión</a></p>
    </div>
  </form>
</div>
<br>
<app-footer></app-footer>